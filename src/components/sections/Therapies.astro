---
import { MoveRight } from "lucide-react";
import Container from "../layout/Container.astro";
import Therapy from "../ui/Therapy";

const therapies = [
  {
    name: "Tarot Evolutivo",
    description:
      "¬øTe sientes perdido/a en decisiones importantes? En una sesi√≥n de tarot evolutivo te ayudo a ver patrones en tu vida que quiz√°s no notas. No es adivinar el futuro, sino entender mejor tu presente. Usamos las cartas como un espejo para reflexionar sobre relaciones, trabajo o cambios que est√°s viviendo. Ideal si necesitas claridad sobre qu√© paso dar siguiente.",
  },
  {
    name: "Reiki",
    description:
      "¬øSientes estr√©s, ansiedad o agotamiento que no se va ni durmiendo? El Reiki es como un 'reseteo' energ√©tico donde solo tienes que tumbarte y recibir. Pongo mis manos en puntos espec√≠ficos de tu cuerpo (sin tocar) para desbloquear tensiones acumuladas. Muchas personas sienten calma profunda, como si hubieran dormido 8 horas. Perfecto si tu mente no para nunca.",
  },
  {
    name: "Constelaciones Familiares",
    description:
      "¬øRepites patrones en relaciones que no entiendes? ¬øSientes cargas que no son tuyas? En constelaciones vemos tu √°rbol familiar como un sistema donde todo est√° conectado. Representamos a tu familia en el espacio para descubrir din√°micas ocultas. Es sorprendente ver c√≥mo problemas actuales pueden venir de conflictos familiares del pasado. Te ayuda a liberarte de cargas heredadas.",
  },
  {
    name: "Sanaci√≥n del Ni√±o Interior",
    description:
      "¬øTe criticas mucho, tienes miedo al abandono o baja autoestima? Tu ni√±o interior son esas partes emocionales heridas en la infancia que siguen afect√°ndote de adulto/a. Trabajamos con t√©cnicas para reconectar con esa parte, darle lo que necesit√≥ entonces. Es un proceso profundo pero sanador. Muchas personas sienten m√°s autocompasi√≥n y menos autocr√≠tica despu√©s.",
  },
  {
    name: "Acompa√±amiento y Crecimiento Personal",
    description:
      "¬øNecesitas alguien que te escuche sin juzgar mientras ordenas tu vida? Es como tener una conversaci√≥n profunda contigo mismo/a pero con gu√≠a profesional. Hablamos de lo que te preocupa, identificamos patrones que te limitan y creamos estrategias pr√°cticas para cambiar lo que quieras. Es terapia de apoyo personalizada para momentos de cambio o crisis.",
  },
  {
    name: "Flores de Bach",
    description:
      "¬øTe sientes abrumado/a, con miedo, tristeza o ira que no puedes controlar? Las flores de Bach son remedios naturales para equilibrar emociones espec√≠ficas. Despu√©s de evaluar tu estado emocional, preparo una mezcla personalizada de esencias florales. Es sutil pero efectivo para ansiedad, depresi√≥n leve, bloqueos emocionales. Como una 'homeopat√≠a' para las emociones.",
  },
  {
    name: "Psicolog√≠a Transgeneracional",
    description:
      "¬øSientes que cargas con problemas que no son tuyos? ¬øHay enfermedades o patrones que se repiten en tu familia? Analizamos tu √°rbol geneal√≥gico para identificar traumas no resueltos que se transmiten de generaci√≥n en generaci√≥n. Trabajamos para cortar esas cadenas invisibles. Es revelador ver c√≥mo eventos del pasado familiar a√∫n te afectan hoy.",
  },
  {
    name: "Gestalt",
    description:
      "¬øVives siempre preocupado/a por el pasado o el futuro? Gestalt significa trabajar con lo que sientes AHORA, en este momento. Es terapia muy pr√°ctica donde exploramos c√≥mo te relacionas contigo y otros en el presente. Usamos ejercicios, di√°logo directo y t√©cnicas corporales. Perfecto si tiendes a 'vivir en tu cabeza' y necesitas reconectar con tus emociones y sensaciones.",
  },
  {
    name: "Mediumnidad",
    description:
      "¬øHas perdido a alguien querido y necesitas paz o cierre? Como m√©dium puedo conectar con personas fallecidas para transmitir mensajes de amor, perd√≥n o despedida que pueden traerte sanaci√≥n. No es espect√°culo, es un espacio sagrado de comunicaci√≥n espiritual. Muchas personas encuentran paz al recibir esa √∫ltima conversaci√≥n que no pudieron tener.",
  },
  {
    name: "Meditaci√≥n",
    description:
      "¬øTu mente va a mil por hora y no sabes c√≥mo pararla? Te ense√±o t√©cnicas de meditaci√≥n adaptadas a tu estilo de vida. No necesitas ser 'zen' ni sentarte en posici√≥n de loto. Aprendes a observar tus pensamientos sin engancharte, a respirar conscientemente y a encontrar momentos de calma en tu d√≠a a d√≠a. Es entrenamiento mental pr√°ctico para el estr√©s moderno.",
  },
  {
    name: "Rituales",
    description:
      "¬øQuieres cerrar una etapa, sanar una ruptura o marcar un nuevo comienzo? Los rituales son ceremonias simb√≥licas que ayudan a tu inconsciente a procesar cambios importantes. Pueden incluir escritura, fuego, elementos naturales o s√≠mbolos personales. Es una forma poderosa de despedirte del pasado y abrirte a lo nuevo. Tu mente y cuerpo entienden el simbolismo.",
  },
];
---

<div class="relative">
  <img
    src="/therapies.webp"
    class="-z-10 mask-b-from-2.5 parallax-img opacity-65 absolute h-screen mix-blend-luminosity inset-0 object-cover"
    alt=""
  />

  <div class=""></div>
  <section id="terapias" class="rounded-2xl relative h-full">
    <Container class="relative py-section">
      <div
        class="absolute z-[-1] left-0 top-0 bg-gradient-to-b from-background via-golden/15 to-b h-[140%] w-full"
      >
      </div>
      <!-- Section Header -->

      <div class="relative text-center mb-16">
        <div class="therapies-bg flex flex-col gap-4">
          <div class="flex flex-col items-center gap-4 w-full">
            <!-- <img src="/moon_sun.webp" alt="Terapias" class="" /> -->
            <a
              href="/terapias"
              class="text-2xl font-semibold flex items-center gap-8 font-mono text-left w-full"
            >
              <span>TERAPIAS</span>
              <span
                ><MoveRight
                  strokeWidth={0.75}
                  className="size-8 animate-bounce-right text-golden"
                /></span
              >
            </a>
            <p
              class="text-lg text-gray-900 mb-4 text-left max-w-3xl mx-auto text-pretty"
            >
              Adem√°s de nuestros alojamientos, ofrecemos una variedad de <i
                class="underline text-golden underline-offset-2 underline-golden"
              >
                terapias</i
              > dise√±adas para apoyar tu crecimiento personal y espiritual.
            </p>
          </div>

          <div class="flex flex-col gap-6 w-full justify-start">
            {
              therapies.map((therapy, i) => (
                <Therapy
                  client:only="react"
                  name={therapy.name}
                  description={therapy.description}
                  index={i}
                />
              ))
            }
          </div>
        </div>
      </div>
      <Container />
    </Container>
  </section>

  <style>
    /* .parallax-img {
      background-attachment: fixed;
    } */

    @keyframes bounce-right {
      0%,
      100% {
        transform: translateX(-25%);
        animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
      }
      50% {
        transform: none;
        animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
      }
    }

    .animate-bounce-right {
      animation: bounce-right 1s infinite;
    }
  </style>

  <script>
    // todo
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";
    import { SplitText } from "gsap/SplitText";

    // Register GSAP plugins
    gsap.registerPlugin(ScrollTrigger, SplitText);

    const therapiesSection = document.getElementById("terapias");
    console.log("üöÄ ~ therapiesSection:", therapiesSection);

    let tl = gsap.timeline({
      defaults: {
        scrollTrigger: {
          trigger: therapiesSection, // The section controlling parallax
          start: "bottom top",
          end: "+=500", // Adjust as needed
          scrub: 0.2, // Makes the animation follow scroll position

          //markers: true,
          toggleActions: "play none none reverse",
        },
      },
    });

    tl.to(".parallax-img", {
      //scale: 1.5, // The image moves down by 60px over scroll ‚Äì tweak as needed
      ease: "linear",
      y: (_, el) => el.offsetHeight * 0.7, // moves slower than scroll
      scale: 1.1,
    });
  </script>
</div>
